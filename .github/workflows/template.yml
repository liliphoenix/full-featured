#
name: vite-vue3 template build test

on:
  push: 
    branches: 
      - main
  workflow_dispatch:

jobs: 
  # æ„å»ºå·¥ä½œ
  build: 
    # è¿è¡Œç¯å¢ƒ
      runs-on: ubuntu-latest
      steps:
        - name: Checkout
          uses: actions/checkout@v3
          with:
            persist-credentials: false
        # æŒ‡å®šä¸€ä¸‹nodeç‰ˆæœ¬ï¼Œè¿™é‡Œç”¨node20

        - name: Setup pnpm
          uses: pnpm/action-setup@v4
          with:
            version: 8
        - name: Setup Node
          uses: actions/setup-node@v4
          with:
            node-version: 20
            cache: pnpm
        # æ­¤é¡¹ç”¨æˆ·æ”¯æŒä½¿ç”¨gitPageæ“ä½œï¼Œå¦‚æœä¸ä½¿ç”¨ ä¸å†™å³å¯
        # - name: Setup Pages
        #   uses: actions/configure-pages@v4
        # ä¸‹è½½ä¾èµ–
        - name: â¬ Install dependencies
          run: pnpm run install:template
        # æ‰“åŒ…æ„å»º
        - name: ğŸ“¦ Build
          run: pnpm run build:template
        # æ­¤é¡¹ç”¨äºæ”¯æŒgitPageæ“ä½œï¼Œç”¨æˆ·ä¸Šä¼ distæ–‡ä»¶å¤¹
        # - name: Upload dist
        #   uses: actions/upload-pages-artifact@v1
        #   with:
        #     path: dist
    



  